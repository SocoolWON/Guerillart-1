<style>
/* 전체 장르목록을 감싸는 디브 */
#show-genres {
  margin-left: 100px;
}
/* 개별 카드 */
.ui .card {
  float :left;
  margin : 20px 20px 20px 20px;
}
</style>
<%#이 파일은 장르 카드를 모두 보여줍니다%>
<div class="ui container">
  <div class="ui special cards" id="show-genres">
  <%
      @shows.reverse.each do |show|
      if show.genre == @current_genre || "모아보기" == @current_genre
  %>
    <div class="card">
      <div class="blurring dimmable image">
        <div class="ui inverted dimmer">
          <div class="content">
            <div class="center">
              <div class="ui primary button" id="view-modal-<%= show.id %>">더보기</div>
            </div>
          </div>
        </div>
        <img class="ui fluid image" src="/images/portfolio/<%= (1..12).to_a.sample %>.jpg" />
      </div>
      <div class="content">
        <a class="header"><%= show.title %></a>
        <div class="meta">
          <% if show.creator.nil? %>
          <span class="date">장범준</span>
          <% else %>
          <span class="date"><% show.creator.artist_name %></span>
          <% end %>
        </div>
        <div class="description">
          <%= show.location %>
        </div>
      </div>
      <div class="extra content">
        <span class="left floated like">
          <i class="like icon"></i>
          <%= show.likes.size %>
        </span>
        <span class="right floated"><%= show.date %></span>
      </div>
    </div><!-- card -->
    <% end %>
  <% end %>
  </div>
</div>



<!-- Clipboard.js CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.12/clipboard.min.js"></script>
<!-- 각 공연 당, 카드 이미지 호버 -->
<script>
$('.special.cards .image').dimmer({
  on: 'hover'
});
</script>

<!-- 각 모달마다 엘리멘트 동작-->
<% @shows.each do |s| %>
  <script>
  document.getElementById('view-modal-<%= s.id %>').onclick = function() {
    $('.ui.modal.<%= s.id %>').modal('show');
  };
  </script>
<% end %>
<!-- 모든 모달뷰 가져옴 -->
<%= render partial: "/layouts/show_modal", object: @shows %>
